---
title: "Sistemos ggplot2 pagrindai"
subtitle: "FacetÄ—s"
output: html_notebook
editor_options: 
  chunk_output_type: inline
---


```{r setup}
library(tidyverse)

knitr::opts_chunk$set(fig.height = 3, fig.width = 6)

Sys.setlocale(locale = "Lithuanian")
```

FacetÄ—s
============================================================================= 

Funkcija facet_wrap()
----------------------------------------------------------------------------- 
```{r}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy)) + 
  facet_wrap(~ class, nrow = 2)
```

Funkcija facet_grid() - 1
----------------------------------------------------------------------------- 
```{r}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy)) + 
  facet_grid(drv ~ cyl)
```

Funkcija facet_grid() - 2
----------------------------------------------------------------------------- 
```{r}
t <- ggplot(mpg, aes(cty, hwy)) +
     geom_point()
```

```{r}
t + facet_grid(. ~ fl)
```

```{r}
t + facet_grid(year ~ .)
```

```{r}
t + facet_grid(year ~ fl)
```

```{r}
t + facet_wrap(~ fl)
```



UÅ¾duotys: facetÄ—s
----------------------------------------------------------------------------- 

1. Kas nutinka, jei facetes kuriame pagal tolydÅ³jÄ¯ kintamÄ…jÄ¯?

```{r}
 ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy)) + 
  facet_wrap(~ cty, nrow = 2)

Susidaro daug faceèiø.
```
```

2. KÄ… rodo tuÅ¡ti langeliai Ä¯vykdÅ¾ius funkcijÄ… `facet_grid(drv ~ cyl)`? Kaip jie susijÄ™ su Å¡iuo grafiku: 
```{r}

     
  Tuðti langeliai rodo,kad nëra tokius parametrus atitinkanèiø duomenø.
```
 
```
```{r}
ggplot(data = mpg) + 
     geom_point(mapping = aes(x = drv, y = cyl)) +
     facet_grid(drv ~ cyl) 
```

```

3. KÄ… daro Å¾emiau pateiktas kodas? KÄ… reiÅ¡kia taÅ¡kas (`.`)?


```{r}
```{r}
ggplot(data = mpg) + 
    geom_point(mapping = aes(x = displ, y = hwy)) + 
    facet_grid(drv ~ .) 

Taðkas formulëje nurodo, kad pagal nurodytà matmená neturi bûti skirstymo facetëmis eiluèiø atþvilgiu, ðiuo atveju facetëmis nesirstomas matmuo drv. Antrajame grafike, pagal stulpelius neskirstomas facetëmis matmuo cyl.
```
```{r}
?mpg
```

```{r}
ggplot(data = mpg) + 
   geom_point(mapping = aes(x = displ, y = hwy)) + 
   facet_grid(. ~ cyl) 
```

4. PatyrinÄ—kite antrÄ…jÄ… grafiko facetÄ™ (kodas Å¾emiau).
    a. Kokie privalumai naudoti facetes vs. iÅ¡dÄ—stymÄ… spalvomis? 
    b. Kokie trÅ«kumai?
    c. Kaip balansas tarp privalumÅ³ ir trÅ«kumÅ³ pakistÅ³, jei turÄ—tumÄ—te Å¾ymiai daugiau duomenÅ³?
Facetes patogu naudoti, kai norima iðdëstyti kintamojo duomenis ir duomenø kiekis nëra didelis. Duomenys yra aiðkiai sugrupuojami, nesusimaiðo tarpusavyje viename grafike. Esant dideliam duomenø kiekiui susidaro daug faceèiø uþimanèiø arba daug vietos, arba duomenys kiekvienoje jø yra suspausti ir juos nepatogu ávertinti, todël tokiu atveju facetës nëra labai tinkamos.

```{r}
ggplot(data = mpg) + 
    geom_point(mapping = aes(x = displ, y = hwy)) + 
    facet_wrap(~ class, nrow = 2) 
```

Spalvomis iÅ¡dÄ—stykite klasiÅ³ pavadinimus
```{r}
ggplot(data = mpg) + 
    geom_point(mapping = aes(x = displ, y = hwy, color = class))  
```
```{r}
?facet_wrap
```


5. Perskaitykite funkcijos apraÅ¡ymÄ…: `?facet_wrap`.
    a. KokiÄ… funkcijÄ… atlieka `nrow`? faceèiø eiluèiø skaièius
    b. KokiÄ… funkcijÄ… atlieka `ncol`? faceèiø stulpeliø skaièius
    c. Kurios kitos funkcijos kontroliuoja faceÄiÅ³ iÅ¡dÄ—stymÄ…? dir 
    d. KodÄ—l funkcija `facet_grid()` neturi parametrÅ³ `nrow` ir `ncol`? Todël kad facet_grid duomenis eiluèiø ar stulpeliø atþvilgiu iðdësto pagal tai, kiek duomenø turi pasirinktas matmuo, o ne pagal laisvai pasirinktà eiluèiø ar stulpeliø skaièiø.



6. Kokiu atveju naudodami `facet_grid()` kintamÄ…jÄ¯ su didesniu kiekiu skirtingÅ³ reikÅ¡miÅ³ (faktoriaus lygiÅ³) turÄ—tumÄ—te atvaizduoti faceÄiÅ³ stulpeliuose? KodÄ—l? Duomenis Atvaizduoti faceèiø stulpeliuose reiktø tuo atveju, kai matmuo atidëtas Y aðyje turi platesnio diapazono duomenø pasiskirstymà lyginant su X aðyje atidëtais duomenimis. 
