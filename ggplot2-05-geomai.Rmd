---
title: "Sistemos ggplot2 pagrindai"
subtitle: "Geomai"
output: html_notebook
editor_options: 
  chunk_output_type: inline
---


```{r setup}
library(scales) 
library(MASS)
library(plotly)

library(tidyverse)

knitr::opts_chunk$set(fig.height = 3, fig.width = 6)

Sys.setlocale(locale = "Lithuanian")
```


Geometriniai objektai (geomai)
============================================================================= 

Geomai
----------------------------------------------------------------------------- 

```{r}
# Pirmasis 
ggplot(data = mpg) + 
	geom_point(mapping = aes(x = displ, y = hwy)) 
```

```{r}
# Antrasis 
ggplot(data = mpg) + 
	geom_smooth(mapping = aes(x = displ, y = hwy)) 
```

Geom≈≥ ir estetini≈≥ element≈≥ (ne)suderinamumas
----------------------------------------------------------------------------- 
```{r}
ggplot(data = mpg) +
    geom_smooth(mapping = aes(x = displ,
                              y = hwy,
                              linetype = drv)) 
```

ggplot2 ir jƒÖ papildantys paketai
----------------------------------------------------------------------------- 
https://www.ggplot2-exts.org




Estetikos elementas `group`
----------------------------------------------------------------------------- 

```{r}
ggplot(data = mpg) +
  geom_smooth(mapping = aes(x = displ, y = hwy))
```
              
```{r}
ggplot(data = mpg) +
  geom_smooth(mapping = aes(x = displ, y = hwy, group = drv))
```
    
```{r}
ggplot(data = mpg) +
  geom_smooth(
    mapping = aes(x = displ, y = hwy, color = drv),
    show.legend = FALSE
  )
```

Keli geomai tame paƒçiame grafike
----------------------------------------------------------------------------- 
```{r}
ggplot(data = mpg) + 
	geom_point(mapping = aes(x = displ, y = hwy)) + 
	geom_smooth(mapping = aes(x = displ, y = hwy))
``` 

Keli geomai tame paƒçiame grafike: ra≈°ome glausƒçiau
-----------------------------------------------------------------------------

```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
	geom_point() + 
	geom_smooth() 
```

Numatytojo i≈°dƒóstymo papildymas ar pakeitimas
----------------------------------------------------------------------------- 
```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
   geom_point(mapping = aes(color = class)) + 
   geom_smooth() 
```


Numatyt≈≥j≈≥ duomen≈≥ keitimas
----------------------------------------------------------------------------- 
```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
	geom_point(mapping = aes(color = class)) + 
	geom_smooth(data = filter(mpg, class == "subcompact"), se = FALSE) 
```


U≈æduotys: Geomai
----------------------------------------------------------------------------- 

1. KurƒØ geomƒÖ naudosite brai≈æyti: 
    * Linij≈≥ grafikƒÖ? geom_line ()
    * Staƒçiakampƒô diagramƒÖ (boxplot)? geom_boxplot()
    * HistogramƒÖ? geom_histogram()
    * Sklaidos diagramƒÖ (scatterplot)? geom_scatterplot()

2. **Mintimis** ƒØvykdykite ≈°ƒØ kodƒÖ ir nuspƒókite rezultatƒÖ. Tik po to patikrinkite, ar j≈´s≈≥ mintys sutapo su tikruoju atsakymu.

```{r eval=FALSE, include=FALSE}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy, color = drv)) + 
	geom_point() + 
	geom_smooth(se = FALSE) 
```

3. Viename i≈° ≈°io skyriaus grafik≈≥ buvo panaudotas argumentas `show.legend = FALSE`. KƒÖ jis daro? Kas ƒØvyksta jƒØ pa≈°alinus? Kodƒól jis buvo naudotas ankstesniuose pavyzd≈æiuose?

```{r}
Panaudojant · argument‡ neberodoma legenda. J· paalinus legenda yra matoma.
```

4. KƒÖ atlieka `se` argumentas funkcijoje `geom_smooth()`?

```{r}
se - rodomas patikimumo intervalas ties kreivÎs linija.
```

5. Ar ≈°ie 2 grafikai atrodys skirtingai? Kodƒól? 
Atrodys taip pat. Pirmasis pateikimas yra antrojo sutrumpinta versija.

```{r eval=FALSE, include=FALSE}
# Grafikas 1
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
    geom_point() +
    geom_smooth() 
```
```{r eval=FALSE, include=FALSE}
# Grafikas 2
ggplot() + 
    geom_point(data = mpg, mapping = aes(x = displ, y = hwy)) +
    geom_smooth(data = mpg, mapping = aes(x = displ, y = hwy)) 
```


6. Para≈°ykite R kodƒÖ, kuris brai≈æo ≈°iuos ≈°e≈°is grafikus

```{r}
knitr::include_graphics("parasykite-koda-grafikams.png")
```

```{r}
# Grafikas 1
ggplot(data = mpg) + 
	geom_point(mapping = aes(x = displ, y = hwy)) + 
	geom_smooth(mapping = aes(x = displ, y = hwy))

```

```{r}
# Grafikas 2
ggplot(data = mpg) + geom_point(mapping = aes(x = displ, y = hwy)) + 
  geom_smooth(mapping = aes(x = displ, y = hwy, group = drv))
```

```{r}
# Grafikas 3
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
   geom_point(mapping = aes(color = drv)) +
geom_smooth(mapping = aes(x = displ, y = hwy, group =drv, color = drv))
```

```{r}
# Grafikas 4
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
   geom_point(mapping = aes(color = drv)) +
geom_smooth()

```

```{r}
# Grafikas 5
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point(mapping = aes(color = drv)) +
  geom_smooth(mapping = aes(linetype = drv)) 
```

```{r}
# Grafikas 6
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
   geom_point(mapping = aes(color = drv))
```

